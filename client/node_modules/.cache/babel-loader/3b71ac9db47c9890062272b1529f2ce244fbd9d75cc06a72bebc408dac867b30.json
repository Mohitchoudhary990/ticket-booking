{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import API from \"../services/api\";\n// import \"../styles/MyBookings.css\";\n\n// const MyBookings = () => {\n//   const [bookings, setBookings] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n\n//   useEffect(() => {\n//     setLoading(true);\n//     API.get(\"/bookings/my\")\n//       .then((res) => {\n//         console.log(\"Bookings fetched:\", res.data);\n//         setBookings(res.data);\n//         setError(null);\n//       })\n//       .catch((err) => {\n//         console.error(\"Error fetching bookings:\", err);\n//         setError(err.message);\n//         setLoading(false);\n//       })\n//       .finally(() => setLoading(false));\n//   }, []);\n\n//   if (loading) return <div className=\"loading-text\">‚è≥ Loading your bookings...</div>;\n//   if (error) return <div className=\"error-text\">‚ùå Error: {error}</div>;\n\n//   if (bookings.length === 0) {\n//     return (\n//       <div className=\"bookings-container\">\n//         <h2>üìã My Bookings</h2>\n//         <div className=\"no-bookings\">\n//           üé´ You haven't booked any tickets yet. Start exploring events!\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   const handleCancelBooking = async (bookingId) => {\n//     if (window.confirm(\"Are you sure you want to cancel this booking?\")) {\n//       try {\n//         await API.post(`/bookings/${bookingId}/cancel`);\n//         setBookings(bookings.filter(b => b._id !== bookingId));\n//         alert(\"‚úÖ Booking cancelled successfully!\");\n//       } catch (err) {\n//         alert(\"‚ùå Failed to cancel booking: \" + (err.response?.data?.message || err.message));\n//       }\n//     }\n//   };\n\n//   return (\n//     <div className=\"bookings-container\">\n//       <h2>üìã My Bookings</h2>\n//       <div className=\"bookings-list\">\n//         {bookings.map((booking) => (\n//           <div key={booking._id} className=\"booking-item\">\n//             <h3>{booking.event?.title || \"Event\"}</h3>\n\n//             <div className=\"booking-detail\">\n//               <span className=\"booking-label\">üìÖ Date</span>\n//               <span className=\"booking-value\">\n//                 {booking.event?.date \n//                   ? new Date(booking.event.date).toLocaleDateString('en-IN', { \n//                       year: 'numeric', \n//                       month: 'short', \n//                       day: 'numeric' \n//                     })\n//                   : 'N/A'}\n//               </span>\n//             </div>\n\n//             <div className=\"booking-detail\">\n//               <span className=\"booking-label\">üé´ Seats Booked</span>\n//               <span className=\"booking-value\">{booking.seatsBooked}</span>\n//             </div>\n\n//             <div className=\"booking-detail\">\n//               <span className=\"booking-label\">üí∞ Total Amount</span>\n//               <span className=\"booking-value\">‚Çπ{booking.totalAmount.toLocaleString()}</span>\n//             </div>\n\n//             <div className=\"booking-detail\">\n//               <span className=\"booking-label\">‚è∞ Booked On</span>\n//               <span className=\"booking-value\">\n//                 {new Date(booking.createdAt).toLocaleDateString('en-IN', { \n//                   year: 'numeric', \n//                   month: 'short', \n//                   day: 'numeric',\n//                   hour: '2-digit',\n//                   minute: '2-digit'\n//                 })}\n//               </span>\n//             </div>\n\n//             <div className={`booking-status ${booking.status === 'CONFIRMED' ? 'status-confirmed' : 'status-cancelled'}`}>\n//               {booking.status === 'CONFIRMED' ? '‚úÖ Confirmed' : '‚ùå Cancelled'}\n//             </div>\n\n//             {booking.status === 'CONFIRMED' && (\n//               <button \n//                 className=\"cancel-btn\"\n//                 onClick={() => handleCancelBooking(booking._id)}\n//               >\n//                 Cancel Booking\n//               </button>\n//             )}\n//           </div>\n//         ))}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default MyBookings;","map":{"version":3,"names":[],"sources":["C:/Users/Mohit/OneDrive/Desktop/ticket-booking/client/src/pages/MyBookings.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import API from \"../services/api\";\r\n// import \"../styles/MyBookings.css\";\r\n\r\n// const MyBookings = () => {\r\n//   const [bookings, setBookings] = useState([]);\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [error, setError] = useState(null);\r\n\r\n//   useEffect(() => {\r\n//     setLoading(true);\r\n//     API.get(\"/bookings/my\")\r\n//       .then((res) => {\r\n//         console.log(\"Bookings fetched:\", res.data);\r\n//         setBookings(res.data);\r\n//         setError(null);\r\n//       })\r\n//       .catch((err) => {\r\n//         console.error(\"Error fetching bookings:\", err);\r\n//         setError(err.message);\r\n//         setLoading(false);\r\n//       })\r\n//       .finally(() => setLoading(false));\r\n//   }, []);\r\n\r\n//   if (loading) return <div className=\"loading-text\">‚è≥ Loading your bookings...</div>;\r\n//   if (error) return <div className=\"error-text\">‚ùå Error: {error}</div>;\r\n  \r\n//   if (bookings.length === 0) {\r\n//     return (\r\n//       <div className=\"bookings-container\">\r\n//         <h2>üìã My Bookings</h2>\r\n//         <div className=\"no-bookings\">\r\n//           üé´ You haven't booked any tickets yet. Start exploring events!\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   const handleCancelBooking = async (bookingId) => {\r\n//     if (window.confirm(\"Are you sure you want to cancel this booking?\")) {\r\n//       try {\r\n//         await API.post(`/bookings/${bookingId}/cancel`);\r\n//         setBookings(bookings.filter(b => b._id !== bookingId));\r\n//         alert(\"‚úÖ Booking cancelled successfully!\");\r\n//       } catch (err) {\r\n//         alert(\"‚ùå Failed to cancel booking: \" + (err.response?.data?.message || err.message));\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"bookings-container\">\r\n//       <h2>üìã My Bookings</h2>\r\n//       <div className=\"bookings-list\">\r\n//         {bookings.map((booking) => (\r\n//           <div key={booking._id} className=\"booking-item\">\r\n//             <h3>{booking.event?.title || \"Event\"}</h3>\r\n\r\n//             <div className=\"booking-detail\">\r\n//               <span className=\"booking-label\">üìÖ Date</span>\r\n//               <span className=\"booking-value\">\r\n//                 {booking.event?.date \r\n//                   ? new Date(booking.event.date).toLocaleDateString('en-IN', { \r\n//                       year: 'numeric', \r\n//                       month: 'short', \r\n//                       day: 'numeric' \r\n//                     })\r\n//                   : 'N/A'}\r\n//               </span>\r\n//             </div>\r\n\r\n//             <div className=\"booking-detail\">\r\n//               <span className=\"booking-label\">üé´ Seats Booked</span>\r\n//               <span className=\"booking-value\">{booking.seatsBooked}</span>\r\n//             </div>\r\n\r\n//             <div className=\"booking-detail\">\r\n//               <span className=\"booking-label\">üí∞ Total Amount</span>\r\n//               <span className=\"booking-value\">‚Çπ{booking.totalAmount.toLocaleString()}</span>\r\n//             </div>\r\n\r\n//             <div className=\"booking-detail\">\r\n//               <span className=\"booking-label\">‚è∞ Booked On</span>\r\n//               <span className=\"booking-value\">\r\n//                 {new Date(booking.createdAt).toLocaleDateString('en-IN', { \r\n//                   year: 'numeric', \r\n//                   month: 'short', \r\n//                   day: 'numeric',\r\n//                   hour: '2-digit',\r\n//                   minute: '2-digit'\r\n//                 })}\r\n//               </span>\r\n//             </div>\r\n\r\n//             <div className={`booking-status ${booking.status === 'CONFIRMED' ? 'status-confirmed' : 'status-cancelled'}`}>\r\n//               {booking.status === 'CONFIRMED' ? '‚úÖ Confirmed' : '‚ùå Cancelled'}\r\n//             </div>\r\n\r\n//             {booking.status === 'CONFIRMED' && (\r\n//               <button \r\n//                 className=\"cancel-btn\"\r\n//                 onClick={() => handleCancelBooking(booking._id)}\r\n//               >\r\n//                 Cancel Booking\r\n//               </button>\r\n//             )}\r\n//           </div>\r\n//         ))}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default MyBookings;\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}