{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mohit\\\\OneDrive\\\\Desktop\\\\ticket-booking\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { BrowserRouter as Router, Routes, Route, Link, useNavigate } from \"react-router-dom\";\nimport Login from \"./pages/Login\";\nimport Register from \"./pages/Register\";\nimport Events from \"./pages/Events\";\nimport MyBookings from \"./pages/MyBookings\";\nimport AdminPanel from \"./pages/AdminPanel\";\nimport DebugPage from \"./pages/DebugPage\";\nimport { useEffect, useState } from \"react\";\nimport \"./styles/App.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AppContent() {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(!!localStorage.getItem(\"token\"));\n  const [isAdmin, setIsAdmin] = useState(() => {\n    const user = localStorage.getItem(\"user\");\n    return user ? JSON.parse(user).isAdmin : false;\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Listen for login/logout changes\n    const handleStorageChange = () => {\n      setIsLoggedIn(!!localStorage.getItem(\"token\"));\n      const user = localStorage.getItem(\"user\");\n      setIsAdmin(user ? JSON.parse(user).isAdmin : false);\n    };\n    window.addEventListener(\"storage\", handleStorageChange);\n    return () => window.removeEventListener(\"storage\", handleStorageChange);\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    setIsLoggedIn(false);\n    setIsAdmin(false);\n    navigate(\"/login\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDFAB Ticket Booking System\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar\",\n        children: isLoggedIn && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/events\",\n            className: \"nav-link\",\n            children: \"Browse Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/my-bookings\",\n            className: \"nav-link\",\n            children: \"My Bookings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this), isAdmin && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin\",\n            className: \"admin-link\",\n            children: \"\\u2699\\uFE0F Admin Panel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"nav-btn logout-btn\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          element: /*#__PURE__*/_jsxDEV(Register, {\n            setIsLoggedIn: setIsLoggedIn,\n            setIsAdmin: setIsAdmin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            setIsLoggedIn: setIsLoggedIn,\n            setIsAdmin: setIsAdmin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/events\",\n          element: /*#__PURE__*/_jsxDEV(Events, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/my-bookings\",\n          element: /*#__PURE__*/_jsxDEV(MyBookings, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin\",\n          element: /*#__PURE__*/_jsxDEV(AdminPanel, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/debug\",\n          element: /*#__PURE__*/_jsxDEV(DebugPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            setIsLoggedIn: setIsLoggedIn,\n            setIsAdmin: setIsAdmin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(AppContent, \"frYuXDtD7urvhkhrf0gCFZUfP7Y=\", false, function () {\n  return [useNavigate];\n});\n_c = AppContent;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppContent\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["BrowserRouter","Router","Routes","Route","Link","useNavigate","Login","Register","Events","MyBookings","AdminPanel","DebugPage","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","AppContent","_s","isLoggedIn","setIsLoggedIn","localStorage","getItem","isAdmin","setIsAdmin","user","JSON","parse","navigate","handleStorageChange","window","addEventListener","removeEventListener","handleLogout","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","path","element","_c","App","_c2","$RefreshReg$"],"sources":["C:/Users/Mohit/OneDrive/Desktop/ticket-booking/client/src/App.js"],"sourcesContent":["import { BrowserRouter as Router, Routes, Route, Link, useNavigate } from \"react-router-dom\";\nimport Login from \"./pages/Login\";\nimport Register from \"./pages/Register\";\nimport Events from \"./pages/Events\";\nimport MyBookings from \"./pages/MyBookings\";\nimport AdminPanel from \"./pages/AdminPanel\";\nimport DebugPage from \"./pages/DebugPage\";\nimport { useEffect, useState } from \"react\";\n\nimport \"./styles/App.css\";\n\nfunction AppContent() {\n  const [isLoggedIn, setIsLoggedIn] = useState(!!localStorage.getItem(\"token\"));\n  const [isAdmin, setIsAdmin] = useState(() => {\n    const user = localStorage.getItem(\"user\");\n    return user ? JSON.parse(user).isAdmin : false;\n  });\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Listen for login/logout changes\n    const handleStorageChange = () => {\n      setIsLoggedIn(!!localStorage.getItem(\"token\"));\n      const user = localStorage.getItem(\"user\");\n      setIsAdmin(user ? JSON.parse(user).isAdmin : false);\n    };\n    window.addEventListener(\"storage\", handleStorageChange);\n    return () => window.removeEventListener(\"storage\", handleStorageChange);\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    setIsLoggedIn(false);\n    setIsAdmin(false);\n    navigate(\"/login\");\n  };\n\n  return (\n    <div className=\"app-container\">\n      <header className=\"header-container\">\n        <div className=\"header-left\">\n          <h1>üé´ Ticket Booking System</h1>\n        </div>\n        <nav className=\"navbar\">\n          {isLoggedIn && (\n            <>\n              <Link to=\"/events\" className=\"nav-link\">Browse Events</Link>\n              <Link to=\"/my-bookings\" className=\"nav-link\">My Bookings</Link>\n              {isAdmin && (\n                <Link to=\"/admin\" className=\"admin-link\">‚öôÔ∏è Admin Panel</Link>\n              )}\n              <button onClick={handleLogout} className=\"nav-btn logout-btn\">Logout</button>\n            </>\n          )}\n        </nav>\n      </header>\n\n      <div className=\"main-content\">\n        <Routes>\n          <Route path=\"/register\" element={<Register setIsLoggedIn={setIsLoggedIn} setIsAdmin={setIsAdmin} />} />\n          <Route path=\"/login\" element={<Login setIsLoggedIn={setIsLoggedIn} setIsAdmin={setIsAdmin} />} />\n          <Route path=\"/events\" element={<Events />} />\n          <Route path=\"/my-bookings\" element={<MyBookings />} />\n          <Route path=\"/admin\" element={<AdminPanel />} />\n          <Route path=\"/debug\" element={<DebugPage />} />\n          <Route path=\"/\" element={<Login setIsLoggedIn={setIsLoggedIn} setIsAdmin={setIsAdmin} />} />\n        </Routes>\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <AppContent />\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}